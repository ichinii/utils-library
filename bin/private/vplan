#!/bin/bash
# vplan v1

req "wget"
req "sed"
req "cat"
req "grep"
req "pdftotext"
req "awk"

days="Montag Dienstag Mittwoch Donnerstag Freitag"
classes="GK de 11|LK MA 11" # enter classes and courses you are in seperated with '|'

reset

for day in $days
do
	wget "http://schule:FaaVi16@coppi-gym.de/vplan/Foyer_${day}.pdf" -O $tmpdir/vplan.pdf 2>/dev/null
	if [ ! -z $(awk NR==1 $tmpdir/vplan.pdf | awk /PDF/) ]; then
		pdftotext -layout $tmpdir/vplan.pdf
		sed -i "1, 3 d" $tmpdir/vplan.txt
		echo -e "\n${day}:"
		cat $tmpdir/vplan.txt | grep --color -E "${classes}|$"
	fi
	rm $tmpdir/vplan.pdf $tmpdir/vplan.txt 2>/dev/null
done
